<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DASH Player</title>
    <script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script>
    <style>
        body { margin: 0; background: #000; display: flex; justify-content: center; align-items: center; height: 100vh; }
        video { width: 100%; max-width: 800px; }
    </style>
</head>
<body>
    <video id="videoPlayer" controls autoplay></video>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var video = document.getElementById("videoPlayer");
            var player = dashjs.MediaPlayer().create();

            // Use a CORS proxy
            var dashUrl = "https://corsproxy.io/?https://linearjitp-playback.astro.com.my/dash-wv/linear/2504/default_primary.mpd";
            
            // DRM Key (ClearKey)
            var drmConfig = {
                "org.w3.clearkey": {
                    "clearkeys": {
                        "03c2e0af2f8159f9f0ce9b5dbc865f10": "cd84ed136b0cc71f8ab8cd4d4f6a2e4c"
                    }
                }
            };

            player.initialize(video, dashUrl, true);
            player.setProtectionData(drmConfig);

            player.on(dashjs.MediaPlayer.events.ERROR, function (e) {
                console.error("DASH Player Error:", e);
            });
        });
    </script>
</body>
</html>


